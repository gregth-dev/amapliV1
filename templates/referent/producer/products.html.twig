{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }}Liste des produits
{% endblock %}

{% block body %}
	<h1 class="text-center mt-5 mb-5 title-effect">Gestion des produits</h1>
	<div class="row my-3">
		<a href="{{ path('referent_product_new') }}" class="btn btn-outline-primary mb-2">
			<i class="fas fa-plus-circle"></i>
			Ajouter un produit</a>
	</div>
	<div class="row justify-content-center">
		<div class="col-md-6">
			<table class="table table-hover">
				<thead>
					<tr>
						<th scope="col">Producteur</th>
						<th scope="col" class="text-center">Nombre de produits</th>
						<th scope="col" class="text-center"></th>
					</tr>
				</thead>
				<tbody>
					{% for producer in producers %}
						<tr>
							<td>{{ producer.name }}</td>
							<td class="text-center">{{ producer.products|length }}</td>

							<td class="text-center">
								<a href="{{path('referent_product_list', {'id':producer.id})}}" data-toggle='tooltip' data-placement='top' title='Voir les produits' class="btn btn-outline-info my-1 p-1">
									<i class="far fa-eye fa-2x"></i>
								</a>
							</td>

						</tr>
					{% else %}
						<tr>
							<td colspan="4">Aucun producteur enregistr√©</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
{% endblock %}
